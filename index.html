<!--
Singleton Pattern Webpage
Files: index.html (single-file app)

Usage: open index.html in browser to see demo and instructions.

Deployment (quick):
1. Create a new GitHub repository (e.g., singleton-webpage).
2. In your project folder: git init
   echo "index.html" > .gitignore
   git add index.html
   git commit -m "Add singleton demo webpage"
   git branch -M main
   git remote add origin https://github.com/<your-username>/singleton-webpage.git
   git push -u origin main
3. On GitHub: Settings -> Pages -> Source: Deploy from branch -> main / root -> Save.
   The site will be available at https://<your-username>.github.io/singleton-webpage/ within a minute or two.

This single-file app includes a visible demo of the Singleton pattern in JavaScript and step-by-step deployment instructions inside the page as well.
-->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Singleton Pattern Demo</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#60a5fa;--muted:#94a3b8}
    body{font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;margin:0;background:linear-gradient(180deg,#071022 0%, #081628 100%);color:#e6eef8;display:flex;align-items:center;justify-content:center;min-height:100vh;padding:24px}
    .wrap{max-width:880px;width:100%;background:var(--card);padding:28px;border-radius:12px;box-shadow:0 8px 30px rgba(2,6,23,.8)}
    h1{margin:0 0 8px;font-size:20px}
    p.lead{margin:0 0 18px;color:var(--muted)}
    .controls{display:flex;gap:10px;margin-bottom:18px}
    button{background:transparent;border:1px solid rgba(255,255,255,.06);padding:10px 14px;border-radius:8px;color:var(--accent);cursor:pointer}
    .output{background:#071322;padding:12px;border-radius:8px;min-height:88px;font-family:monospace;color:#cfe8ff}
    .row{display:flex;gap:12px}
    .card{flex:1}
    details{margin-top:16px;background:#061623;padding:12px;border-radius:8px}
    small.muted{color:var(--muted)}
    .badge{background:rgba(96,165,250,.12);color:var(--accent);padding:4px 8px;border-radius:999px;font-size:12px;margin-left:8px}
    footer{margin-top:16px;color:var(--muted);font-size:13px}
    a.link{color:var(--accent);text-decoration:none}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Singleton Pattern â€” Interactive Demo <span class="badge">JS</span></h1>
    <p class="lead">A compact demonstration of the <strong>Singleton</strong> design pattern in JavaScript. Create instances, check identity, and see how a singleton preserves a single shared instance.</p>

    <div class="controls">
      <button id="makeA">Create instance A</button>
      <button id="makeB">Create instance B</button>
      <button id="reset">Reset (clear instance)</button>
      <button id="increment">Increment counter</button>
    </div>

    <div class="row">
      <div class="card">
        <div class="output" id="log">Console output will appear here.
</div>
      </div>
      <div style="width:260px">
        <div style="background:#07121a;padding:12px;border-radius:8px">
          <strong>Instance info</strong>
          <div id="info" style="margin-top:8px;font-family:monospace;color:#cfe8ff">No instance created yet.</div>
        </div>

        <details open>
          <summary style="cursor:pointer;margin-top:12px"><strong>How this works</strong></summary>
          <p style="margin:8px 0;color:var(--muted)">The page defines a <code>Singleton</code> class with a static <code>getInstance()</code> method that returns a single shared object. If the instance already exists, subsequent calls return the same one.</p>
          <p style="margin:8px 0;color:var(--muted)"><em>Deployment</em>: Follow the instructions in the top comment to push to GitHub and enable GitHub Pages (select branch: <code>main</code>, folder: <code>/ (root)</code>).</p>
        </details>
      </div>
    </div>

    <footer>Developed By Raj</footer>
  </div>

  <script>
    // Simple Singleton implementation in ES6
    class Singleton {
      constructor(name = 'singleton'){
        // private-ish data
        this._id = Math.random().toString(36).slice(2,9);
        this.name = name;
        this.counter = 0;
      }

      ping(){
        return `pong from ${this.name} (${this._id})`;
      }

      inc(){
        this.counter += 1;
        return this.counter;
      }
    }

    // The holder for our single instance
    const SingletonFactory = (function(){
      let instance = null;
      return {
        getInstance(name){
          if(!instance){
            instance = new Singleton(name);
          }
          return instance;
        },
        // used only for demo / testing to allow resetting the singleton
        _reset(){ instance = null; }
      };
    })();

    // UI helpers
    const logEl = document.getElementById('log');
    const infoEl = document.getElementById('info');
    function log(msg){
      const time = new Date().toLocaleTimeString();
      logEl.textContent = `[${time}] ${msg}\n` + logEl.textContent;
    }

    function updateInfo(instance){
      if(!instance){
        infoEl.textContent = 'No instance created yet.';
        return;
      }
      infoEl.innerHTML = `id: <strong>${instance._id}</strong><br/>name: ${instance.name}<br/>counter: ${instance.counter}`;
    }

    // Buttons
    document.getElementById('makeA').addEventListener('click', ()=>{
      const a = SingletonFactory.getInstance('A');
      log(`Created A -> ${a.ping()}`);
      updateInfo(a);
    });

    document.getElementById('makeB').addEventListener('click', ()=>{
      const b = SingletonFactory.getInstance('B');
      log(`Created B -> ${b.ping()}`);
      updateInfo(b);
    });

    document.getElementById('increment').addEventListener('click', ()=>{
      const inst = SingletonFactory.getInstance('inc-user');
      const v = inst.inc();
      log(`Incremented -> counter is now ${v} (id ${inst._id})`);
      updateInfo(inst);
    });

    document.getElementById('reset').addEventListener('click', ()=>{
      SingletonFactory._reset();
      log('Singleton reset. Next getInstance() will create a new object.');
      updateInfo(null);
    });

    // auto-demo: show how A and B are identical
    (function demo(){
      log('Singleton demo loaded. Click the buttons to try creating instances.');
    })();
  </script>
</body>
</html>
